<!DOCTYPE html>
<html>
<body>

    <head>
        <link rel="stylesheet" href="static/styles.css">
    </head>
        <div id="container">
          <aside>
              <header>
                  <div><h3>{{ group_name }}</h3></div>
                  <ul>
                      {% for user in users %}
                          <li>
                              <img src="{{ user.avatar }}" alt="">
                              <div>
                                  <h2>{{ user.username }}</h2>
                                  <h3>
                                      {% if user.is_online %}
                                          <span class="status green"></span>
                                          online
                                      {% else %}
                                          <span class="status orange"></span>
                                          offline
                                      {% endif %}
                                  </h3>
                              </div>
                          </li>
                      {% endfor %}
                  </ul>
              </header>
          </aside>
          <main>
              <header>
                  <img src="{{ current_user.avatar }}" alt="">
                  <div>
                      <h2>Chat with {{ current_user.username }}</h2>
                      <h3>
                          {% if current_user.is_online %}
                              Connected
                          {% else %}
                              Offline
                          {% endif %}
                      </h3>
                  </div>
                  <img src="static/ico_star.png" alt="">
              </header>
              <ul id="chat">
                  {% for message in messages %}
                      <li class="{{ 'you' if message.sender == current_user.username else 'me' }}">
                          <div class="entete">
                              <span class="status {{ 'green' if message.sender == current_user.username else 'blue' }}"></span>
                              <h2>{{ message.sender }}</h2>
                              <h3>{{ message.timestamp }}</h3>
                          </div>
                          <div class="triangle"></div>
                          <div class="message">
                              {{ message.text }}
                          </div>
                      </li>
                  {% endfor %}
              </ul>
              <footer>
                  <textarea id="message-input" placeholder="Type your message"></textarea>
                  <button id="send-button">Send</button>
                  <button id="disconnect-button">Disconnect</button>
              </footer>
          </main>
        </div>
      

<!-- Import Socket.IO library -->
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js"></script>
 <!-- Import RSA library -->
 <script src="//cdnjs.cloudflare.com/ajax/libs/jsrsasign/10.2.0/jsrsasign-all-min.js"></script>
 <!-- Import AES library -->
 <script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script src="../static/chat.js"></script>
</body>
</html>
